//--------------------------------------------------------------------------------
const std = @import("std");
//--------------------------------------------------------------------------------
io: ?std.Io = null,
//------------------------------------------------------------
const Self = @This();
//------------------------------------------------------------
pub fn init(options: anytype) Self {
    //------------------------------------------------------------
    var self = Self{};
    //------------------------------------------------------------
    inline for (std.meta.fields(@TypeOf(self))) |field| {
        if (@hasField(@TypeOf(options), field.name)) {
            @field(self, field.name) = @field(options, field.name);
        }
    }
    //------------------------------------------------------------
    return self;
    //------------------------------------------------------------
}
//--------------------------------------------------------------------------------
pub fn unixTimestamp(self: Self) !i64 {
    //------------------------------------------------------------
    return if (self.io) |io|
        std.Io.Timestamp.now(io, .real).toSeconds()
    else
        error.InvalidStdIo;
    //------------------------------------------------------------
}
//--------------------------------------------------------------------------------
pub fn main(minimal: std.process.Init.Minimal) !void {
    //------------------------------------------------------------
    var it = minimal.args.iterate();
    const name = if (it.next()) |arg0| std.fs.path.basename(arg0) else "";
    std.debug.print("{s}: main function\n", .{name});
    //------------------------------------------------------------
}
//--------------------------------------------------------------------------------
