//------------------------------------------------------------
const std = @import("std");
const lib = @import("main.zig").init(.{ .io = std.testing.io });
//------------------------------------------------------------
test "init" {
    //------------------------------------------------------------
    var ts: i64 = 0;
    //------------------------------------------------------------
    if (lib.io) |io|
        ts = std.Io.Timestamp.now(io, .real).toSeconds();
    //------------------------------------------------------------
    try std.testing.expect(ts > 0);
    //------------------------------------------------------------
}
//------------------------------------------------------------
test "unixTimestamp" {
    //------------------------------------------------------------
    const ts_i64 = lib.unixTimestamp();
    //------------------------------------------------------------
    if (ts_i64) |ts| {
        try std.testing.expect(ts > 0);
    } else |err| {
        std.debug.print("unixTimestamp failed: {s}\n", .{@errorName(err)});
        try std.testing.expect(false);
    }
    //------------------------------------------------------------
}
//------------------------------------------------------------
